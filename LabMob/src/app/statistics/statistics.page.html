<ion-app>
  <div class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Statistiche</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <div>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Statistiche delle Attivit√†</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <!-- Aggiungi l'ion-select qui -->
            <ion-item *ngIf="isLoggedIn">
              <ion-label>Utente</ion-label>
              <ion-select [(ngModel)]="selectedUser" (ionChange)="onUserChange()">
                <ion-select-option value="{{activityService.user.email}}">{{activityService.user.email}}</ion-select-option>
                <ion-select-option *ngFor="let user of followedUsers" [value]="user">{{user}}</ion-select-option>
              </ion-select>
            </ion-item>

            <div style="overflow-x: auto; white-space: nowrap;">
              <button *ngFor="let month of months; let i = index"
                      [ngClass]="{'active': selectedMonth === i}"
                      (click)="selectMonth(i)">
                {{ month }}
              </button>
            </div>
            <canvas id="activityChart" style="margin-bottom: 50px;"></canvas> <!-- Aggiunto margine inferiore maggiore -->
            <div class="chart-container">
              <div class="chart-wrapper">
                <canvas id="stepsKilometersChart"></canvas>
              </div>
            </div>
          </ion-card-content>
        </ion-card>
      </div>
    </ion-content>

    <ion-footer>
      <ion-toolbar>
        <ion-tabs>
          <ion-tab-bar slot="bottom">
            <ion-tab-button (click)="goToHome()">
              <ion-icon name="home-outline"></ion-icon>
              <ion-label>Home</ion-label>
            </ion-tab-button>
            <ion-tab-button (click)="goToStatistics()">
              <ion-icon name="stats-chart-outline"></ion-icon>
              <ion-label>Statistiche</ion-label>
            </ion-tab-button>
            <ion-tab-button (click)="goToCalendar()">
              <ion-icon name="calendar-outline"></ion-icon>
              <ion-label>Calendario</ion-label>
            </ion-tab-button>
            <ion-tab-button (click)="goToCommunity()">
              <ion-icon name="people-outline"></ion-icon>
              <ion-label>Community</ion-label>
            </ion-tab-button>
          </ion-tab-bar>
        </ion-tabs>
      </ion-toolbar>
    </ion-footer>
  </div>
</ion-app>
